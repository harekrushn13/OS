**Memory Management in Multiprogramming Environment**

1. **Multiprogramming Environment**
   - Multiple processes reside in the main memory (Ready Queue) to maximize CPU utilization and responsiveness.
   - Memory must be shared among multiple processes, requiring proper management.

2. **Logical vs. Physical Address Space**
   - **Logical Address**
     - Generated by the CPU.
     - Represents an instruction or data address used by a process.
     - User can access logical addresses but not physical addresses directly.
     - Also called Virtual Address.
     - Logical Address Space: Set of all logical addresses generated by a program.
     - Range: 0 to max.
   - **Physical Address**
     - Loaded into the memory-address register.
     - Cannot be accessed directly by the user.
     - Exists in physical memory.
     - Computed by the Memory Management Unit (MMU).
     - Physical Address Space: Set of all physical addresses corresponding to logical addresses.
     - Range: (R + 0) to (R + max), where R is the base value.
   - **Memory-Management Unit (MMU)** performs runtime mapping from virtual to physical addresses.
   - User perceives execution in logical address space, but actual execution occurs in physical memory.
    
    ![Image](https://github.com/user-attachments/assets/76c52483-e363-4161-bdd9-c048b776b174)  

3. **Memory Mapping and Protection**
   - OS provides Virtual Address Space (VAS).
   - Processes must access only their allocated memory range.
   - **Relocation Register**: Holds the smallest physical address (Base address [R]).
   - **Limit Register**: Defines the range of logical addresses.
   - CPU-generated logical addresses are checked against these registers.
   - Protection against unauthorized memory access:
     - Accessing OS memory or other users' memory triggers a trap, leading to a fatal error.

4. **Allocation Methods on Physical Memory**
   - **Contiguous Allocation**
   - **Non-contiguous Allocation**

5. **Contiguous Memory Allocation**
   - Each process occupies a single continuous block of memory.
   - **Fixed Partitioning**
     - Memory divided into equal or different-sized partitions.
        <div style="background-color: white; display: inline-block; padding: 10px;">
            <img src="https://github.com/user-attachments/assets/646b0314-66da-4f67-80fb-16928f062d17" alt="Dyanamic Partition"/>
        </div>
     - **Limitations:**
       1. **Internal Fragmentation**: Wastage due to unused partition space.
       2. **External Fragmentation**: Unused memory cannot be allocated due to non-contiguity.
       3. **Process Size Limitation**: Processes cannot exceed the largest partition size.
       4. **Low Degree of Multiprogramming**: Fixed partitioning limits process accommodation.
   - **Dynamic Partitioning**
     - Partition sizes are allocated at runtime based on process requirements.
        <div style="background-color: white; display: inline-block; padding: 10px;">
            <img src="https://github.com/user-attachments/assets/4289e975-7318-4e84-a357-862d2982773c" alt="Dyanamic Partition"/>
        </div>
     - **Advantages Over Fixed Partitioning:**
       1. No internal fragmentation.
       2. No limit on process size.
       3. Better multiprogramming.
     - **Limitation:**
       - **External Fragmentation**: Memory fragmentation still occurs.
       <div style="background-color: white; display: inline-block; padding: 10px;">
            <img src="https://github.com/user-attachments/assets/bd438c56-c4b5-4f8a-a13e-66fbb4b21060" alt="Dyanamic Partition"/>
        </div>

6. **Free Space Management**
   
   **Defragmentation/Compaction**
   - Dynamic partitioning suffers from external fragmentation.
   - Compaction minimizes external fragmentation by making free partitions contiguous and grouping loaded partitions together.
   - Merging free partitions allows larger processes to fit into memory.
   - Also called defragmentation.
   - Decreases system efficiency since memory is rearranged.

   **Free Space Representation in OS**
   - Free holes in memory are represented using a free list (Linked-List data structure).

   **Allocation Algorithms for Free Space**
   - **First Fit**: Allocates the first hole large enough; simple and fast.
   - **Next Fit**: Similar to First Fit but starts searching from the last allocated hole.
   - **Best Fit**: Allocates the smallest hole that fits; reduces internal fragmentation but may cause external fragmentation.
   - **Worst Fit**: Allocates the largest hole available; slow but leaves larger holes for other processes.

